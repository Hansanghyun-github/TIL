## 간단 정리

### 멀티~

멀티프로그래밍: 여러 개의 프로그램이 동시에 실행되는 것(하나의 CPU를 여러 프로그램이 사용)  
(목적: CPU 사용률을 극대화하는 것)

멀티태스킹: 여러 프로세스와 여러 스레드가 아주 짧게 쪼개진 CPU time을 나눠 갖는 것  
(멀티태스킹의 목적: 프로세스/스레드의 응답 시간을 최소화 시키는 것)

> 멀티프로그래밍의 업그레이드 버전이 멀티태스킹

멀티스레딩: 하나의 프로세스가 동시에 여러 작업을 실행하는 것

멀티프로세싱: 두 개 이상의 프로세서나 코어를 활용하는 시스템

> 멀티태스킹은 하나의 코어에서 여러 프로세스/스레드가 경합을 하냐로 구분  
> 멀티스레딩은 하나의 프로세스에서 여러 스레드가 작업을 하냐로 구분  
> 멀티프로세싱은 여러 개의 코어를 활용하냐로 구분


### 스레드

1. 프로세스는 한 개 이상의 스레드를 가질 수 있다.
2. CPU에서 실행되는 단위(unit of execution)

> 예전에는 프로세스가 CPU에서 실행되는 단위였지만, 지금은 스레드  
> -> 기본적으로 프로세스는 하나의 스레드를 가진다.

3. 같은 프로세스의 스레드들끼리의 컨텍스트 스위칭은 가볍다
4. 스레드들은 자신들이 속한 프로세스의 메모리 영역(heap, method 영역)을 공유한다


### Process vs Thread

스레드가 프로세스보다 나은점
1. 데이터를 공유하기 쉽다(Heap 영역으로)
2. 프로세스보다 가벼워서 컨텍스트 스위칭 비용이 덜든다.
3. 스레드를 이용하면 한 프로세스에서 여러 작업을 동시에 할 수 있다.

---

## 용어

프로그램 - 컴퓨터가 실행할 수 있는 명령어들의 집합

프로세스 - 컴퓨터에서 실행중인 프로그램

> 각각의 프로세스는 독립된 메모리 공간을 할당 받음   
> & 명령어들과 데이터를 가짐

CPU - 명령어를 실행하는 연산 장치

메인 메모리 - 프로세스가 CPU에서 실행되기 위해 대기하는 곳

I/O - 파일을 읽고 쓰거나 네트워크의 어딘가와 데이터를 주고 받는것
& 입출력 장치와 데이터를 주거나 받는 것

---

## 단일프로세스의 보완 -> 멀티프로그래밍

단일프로세스 시스템 - 한번에 하나의 프로그램만 실행됨  
단점: CPU 사용률이 좋지 않음

> 어떤 프로세스가 I/O작업동안 CPU는 논다 -> 사용을 안함

=> 여러 개의 프로그램을 메모리에 올려놓고 동시에 실행시킨다.

만약 (현재 실행중인 프로세스가) I/O 작업이 발생하면 다른 프로세스가 CPU에서 실행됨

-> `멀티프로그래밍(multi programming)`이라 부른다

> 멀티프로그래밍의 목적: CPU 사용률을 극대화시키는 것

---

## 멀티태스킹

멀티프로그래밍의 단점: (특정 프로세스의) CPU 사용 시간이 길어지면 다른 프로세스는 계속 대기해야 함

해결책: 프로세스는 한번 CPU를 사용할 때, 아주 짧은 시간(=quantum)만 CPU에서 실행되도록 하자

=> `멀티태스킹(multi tasking)` (예전 개념)

> 멀티태스킹의 목적: 프로세스의 응답 시간을 최소화 시키는 것  
> -> 사용자가 여러 프로그램이 동시에 실행되는 것처럼 느껴지도록

---

## 멀티스레딩

여전히 남아있는 아쉬움: 하나의 프로세스가 동시에 여러 작업을 수행하지 못함

(여러 프로세스를 만들어서 실행시킬 수 있지만)  
프로세스의 컨텍스트 스위칭은 무거운 작업이다  
프로세스끼리 데이터 공유가 까다롭다

그리고 듀얼 코어를 잘 활용하고 싶다.

위의 해결책: 스레드(Thread)

> 스레드가 나온 배경: 한 프로세스 내에서 동시에 여러 작업을 하기 위함

### 스레드

1. 프로세스는 한 개 이상의 스레드를 가질 수 있다.  
2. CPU에서 실행되는 단위(unit of execution)

> 예전에는 프로세스가 CPU에서 실행되는 단위였지만, 지금은 스레드  
> -> 기본적으로 프로세스는 하나의 스레드를 가진다.

3. 같은 프로세스의 스레드들끼리의 컨텍스트 스위칭은 가볍다
4. 스레드들은 자신들이 속한 프로세스의 메모리 영역(heap, method 영역)을 공유한다

-> 이게 장점 (공유하기 쉽다)

    프로세스는 독립적인 데이터 영역을 가지고 있기 떄문에 데이터를 공유하기 힘들다는 단점이 있음
    그리고 프로세스는 여러 작업을 동시에 하지 못한다.
    이를 개선하기 위한 모델이 스레드이다.

그리고 프로세스 보다 가볍다 -> 컨텍스트 스위칭이 쉽다

---

## Process vs Thread

스레드가 프로세스보다 나은점
1. 데이터를 공유하기 쉽다
2. 프로세스보다 가벼워서 컨텍스트 스위칭 비용이 덜든다.
3. 스레드를 이용하면 한 프로세스에서 여러 작업을 동시에 할 수 있다.

---

## 멀티스레딩 & 멀티프로세싱

듀얼 코어 이상에서, 두 개의 스레드가 동시에 활용될 수 있다.  
-> 멀티스레딩

멀티스레딩: 하나의 프로세스가 동시에 여러 작업을 실행하는 것

스레드가 등장하고 나서

멀티태스킹이라는 개념은 여러 프로세스와 스레드가 아주 짧게 쪼개진 cpu time을 나눠갖는 것으로 바뀜

두개 이상의 프로세서나 코어를 활용하는 시스템을  
멀티프로세싱(multiprocessing)이라 한다.

---

// TODO OS level의 스레드 vs 유저 level의 스레드