### 원소들 떨어뜨리기

뿌요뿌요같은 게임을 하면  
뿌요들이 터진 다음, 중력에 의해 떨어지는 것을 볼 수 있다.

```
.A...    .....
..B.A    .....
.G.R. -> .A...
.....    .G.RA
AB.WA    ABGWA
```

> 이런 유형은 생각하는 것은 어렵지 않지만, 구현이 은근히(?) 까다롭다.  
> 그렇다고 코테에서 이 유형이 핵심이 되는 경우는 드물다.  
> -> 의미없이 시간만 잡아먹는다.  
> (핵심 로직을 생각하는데 집중해야 하는데, 이런 유형을 구현하는데 시간을 쓰게 된다.)

이를 구현해보자.

```java
class Main{
    int N, M;
    StringBuilder[] board = new StringBuilder[N]; // 각 행의 길이는 M
    
    void dropElements(){
        // 각 열에 대해 아래에서 위로 순회하면서 문자를 아래로 떨어뜨림
        for (int c = 0; c < M; c++) {
            int er = N - 1; // 현재 비어 있는 위치 (empty row)

            for (int r = N - 1; r >= 0; r--) {
                if (board[r].charAt(c) != '.') {
                    // 문자가 있으면 가장 아래의 빈 위치로 이동
                    board[er].setCharAt(c, board[r].charAt(c));
                    if (er != r) {
                        board[r].setCharAt(c, '.');
                    }
                    er--;
                }
            }
        }
    }
}
```

---

### 코드 설명

`er`은 현재 열에서 가장 아래에 있는 빈 위치를 가리킨다.  
`r`은 현재 열에서 순회하면서 문자를 찾는다.

`board[r].charAt(c) != '.'`이면 문자가 있으므로,  
`board[er].setCharAt(c, board[r].charAt(c));`로 문자를 아래로 떨어뜨린다.

```
`    `
`    `
A -> `
`    `
`    A


r=2일 때 (er=4), 위 로직이 작용한다. 
그 다음 er를 감소시킨다.
(현재 er의 위치에 문자가 있으므로, 다음 문자는 er-1에 위치해야 한다.) 
```

만약 `er != r`이면,  
`board[r].setCharAt(c, '.');`로 이전 위치를 비운다.

```
`    `
`    `
` -> `
A    A

er == r이므로, 이전 위치를 비우지 않는다.
```

> 결국 r은 모든 행을 순회하게 되고,  
> er은 각 열마다 가장 아래의 빈 위치를 가리키게 된다.