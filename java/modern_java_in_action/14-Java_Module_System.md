## 14.1 압력: 소프트웨어 유추

추론하기 쉬운 소프트웨어를 만드는 데 도움을 주는 `관심사 분리`와 `정보 은닉`을 소개한다.

### 14.1.1 관심사 분리

관심사 분리(SoC(Seperation of Concerns))는 컴퓨터 프로그램을 고유의 기능으로 나누는 동작을 권장하는 원칙

    클래스를 그룹화한 모듈을 이용해 애플리케이션 클래스 간의 관계를 시각적으로 보여줄 수 있다.

SoC 원칙은 다음과 같은 장점을 제공한다.

1. 개별 기능을 따로 작업할 수 있으므로 팀이 쉽게 협업할 수 있다.

2. 개별 부분을 재사용할 수 있다.

3. 전체 시스템을 쉽게 유지보수할 수 있다.

### 14.1.2 정보 은닉

정보 은닉은 세부 구현을 숨기도록 장려하는 원칙

    이 원칙이 왜 중요할까?

    개발할 때 요구사항은 자주 바뀐다. 세부 구현을 숨김으로 프로그램의 어떤 부분을 바꿨을 때 다른 부분까지 영향이 미칠 가능성을 줄일 수 있다.

    즉 코드를 보호하는 데 유용한 원칙이다.

## 14.2 자바 모듈 시스템을 설계한 이유

### 14.2.1 자바 모듈화의 한계

자바는 클래스, 패키지 JAR 세가지 수준의 코드 그룹화를 제공한다. 

클래스와 관련해 자바는 접근 제한자와 캡슐화를 지원한다.

하지만 패키지와 JAR 수준에서는 캡슐화를 거의 지원하지 않는다.

`제한된 가시성 제어`

패키지 간의 가시성 제어 기능은 유명무실한 수준이다.

    한 패키지의 클래스와 인터페이스를 다른 패키지로 공개하려면 public으로 이들을 선언해야 한다.

    결과적으로 이들 클래스와 인터페이스는 모두에게 공개된다.
    
    내부적으로 사용할 목적으로 만든 구현을 다른 프로그래머가 임시적으로 사용해서 정착해버릴 수 있다
    -> 기존의 애플리케이션을 망가뜨리지 않고 라이브러리 코드를 바꾸기가 어려워진다.

보안 측면에서 코드가 노출되었으므로 코드를 임의로 조작하는 위협에 더 많이 노출될 수 있다.

`클래스 경로`

클래스를 모두 컴파일 한 다음, 한개의 JAR 파일에 넣고, 동적으로 클래스 경로에 정의된 클래스를 필요할 때 읽는다.

    이는 같은 클래스를 구분하는 버전 개념이 없고, 명시적인 의존성을 지원하지 않아서 문제가 많다.

maven과 gradle이 이를 해결해 주지만, 자바 9 이전에는 자바, JVM 누구도 명시적인 의존성 정의를 지원하지 않았다.

### 14.2.2 거대한 JDK

자바 개발 키트(JDK)는 자바 프로그램을 만들고 실행하는 데 도움을 주는 도구의 집합이다.

자바 프로그램을 컴파일하는 javac, 자바 애플리케이션을 로드하고 실행하는 java, 입출력을 포함해 런타임 지원을 제공하는 JDK 라이브러리, 컬렉션, 스트림 등이 있다.

JDK가 점점 커지면서 사용하지 않는 라이브러리도 사용하게 된다는 문제가 생겼다.

즉 JDK에서 필요한 부분만 골라 사용하고, 클래스 경로를 쉽게 유추할 수 있으며, 플랫폼을 진화시킬 수 있는 강력한 캡슐화를 제공할 새로운 건축 구조가 필요했다.

## 14.3 자바 모듈: 큰 그림

자바 8은 모듈이라는 새로운 자바 프로그랢 구조 단위를 제공한다.

모듈은 module이라는 새 키워드에 이름과 바디를 추가해서 정의한다.

모듈 디스크럽터는 module-info.java라는 특별한 파일에 저장된다.

모듈 디스크럽터는   보통 패키지와 같은 폴더에 위치하며 한 개이상의 패키지를 서술하고 캡슐화할 수 있지만, 단순한 상황에서는 이들 중 한개만 외부로 노출시킨다.

module - 모듈명

exports - 패키지를 노출

requires - 필요한 패키지 명시

    자바 9에 exports, requires 구문을 이용해 좀더 정교하게 클래스 접근을 제어할 수 있게 됐다.

---

    14.4 ~ 14.9는 새로운 모듈 만드는 예시, 모듈 다양한 버전 설명함

---

## 14.10 마치며

관심사분리와 정보 은닉은 추론하기 쉬운 소프트웨어를 만드는 중요한 두가지 원칙이다.

자바 9 이전에는 각각의 기능을 담당하는 패키지, 클래스, 인터페이스로 모듈화를 구현했는데, 효과적인 캡슐화를 달성하기에는 역부족이었다.

클래스 경로 지옥 문제는 애플리케이션의 의존성을 추론하기 더욱 어렵게 만들었다.

자바 9 이전의 JDK는 거대했으며 높은 유지 비용과 진화를 방해하는 문제가 존재했다.

자바 9에서는 새로운 모듈 시스템을 제공하는데 module-info.java 파일은 모듈의 이름을 지정하며, 필요한 의존성과 공개 API를 정의한다.



















