### 목차

1 [정보 보안의 세계](#-1-정보-보안의-세계)

2 [시스템 보안](#-2-시스템-보안)

3 [네트워크 보안](#-3-네트워크-보안)

4 [웹 보안](#-4-웹-보안)

6 [악성 코드](#-6-악성-코드)

---

# 1 정보 보안의 세계

## 1.1 해킹과 보안의 역사

해킹이란 `남의 컴퓨터 시스템에 침입하여 장난이나 범죄를 저지르는 일` (국어사전)

1950년 이전 
- 폴란드의 암호보안전문가들이 '애니그마'를 개발
- '알란 튜링'이 최초의 컴퓨터 '콜로서스'를 개발

(`Hack`이라는 말은 전기 기차, 트랙, 스위치를 보다 빠르게 조작하다 라는 의미로 처음 사용됨)

1960년대
- 최초의 미니 컴퓨터 PDP-1, 최초의 컴퓨터 연동망 ARPA
- 운영체제 유닉스의 개발
- 전화망 침입을 통한 무료 전화 해킹

1970년대
- 최초의 이메일 전송
- 마이크로소프트 설립
- 최초의 데스크톱 컴퓨터솔
- 애플 컴퓨터의 탄색

1980년대
- 초기의 PC
- 네트워크 해커라는  개념이 처음 생겨남
- 카오스 컴퓨터 클럽(CCC)
- 리차드 스톨만에 의해 GNU 계획이 세상에 알려짐

1990년대
- 해킹 대회 데프콘
- 리눅스 0.0.1(리누스 토발즈)
- 트로이 목마, 백 오리피스

2000년대
- 분산 서비스 거부 공격(DDoS)
- 웜과 바이러스
- 개인정보 유출과 도용

## 1.2 보안의 3대 요소

기밀성(Confidentiality): 인가(authorization)된 사용자만 정보 자산에 접근할 수 있는 것

무결성(Integrity): 적절한 권한을 가진 사용자에 의해 인가된 방법으로만 정보를 변경할 수 있도록 하는 것

가용성(Availability): 정보 자산에 대해 적절한 시간에 접근 가능한 것을 의미

> 기밀성과 가용성은 반비례 관계

## 1.3 보안 전문가와 자격 요건

## 1.4 보안 관련 법

---

# 2 시스템 보안

## 2.1 시스템 보안에 대한 이해

시스템과 관련한 보안 기능
1. 계정과 패스워드 관리
2. 세션 관리
3. 접근 제어
4. 권한 관리
5. 로그 관리
6. 취약점 관리

보안이 필요한 것들 - 운영체제, 데이터베이스, 응용 프로그램, 네트워크 장비

## 2.2 계정과 패스워드 관리

식별(Identification)이란 아이디라는 문자열을 통해 그 자신이 누구인지 확인하는 과정

아이디만으로는 정확한 식별이 어려워 인증(Authentication)을 위한 다른 무언가(패스워드)를 요청

`보안을 위한 인증의 4가지 접근방법`
1. 알고 있는 것 - 패스워드
2. 가지고 있는 것(신분증이나 OTP를 통해 인증을 수행하는 방법) - 출입카드
3. 스스로의 모습(홍채와 같은 생체 정보를 통해 인증을 수행하는 방법) - 지문 인식
4. 위치하는 곳(현재 접속을 시도하는 위치의 적절성을 확인하는 방법) - 콜백


운영체제의 계정 관리 - 윈도우에서는 관리자권한을 가진 계정을 administrator라고 함<br>
윈도우의 주요 그룹(Administrators, Power Users, Backup Operators, Users, Guests)

|구분|특징|
|--|--|
|Administrators|대표적인 관리자 그룹으로, 윈도우 시스템의 모든 권한을 가지고 있다|
|Power Users|Administrators가 가진 권한을 대부분 가짐|
|Backup Operators|시스템 파일을 백업하는 권한을 가짐|
|Users|관리 계정에 비해 한정된 권한 가짐|
|Guests|Users 그룹과 같은 권한 가짐|

유닉스의 계정 관리 - 기본 관리자 계정 root

데이터베이스의 계정 관리 - MS-SQL의 관리자 계정 sa, 오라클의 관리자 계정 sys, system과 Scott(기본 계정)

응용프로그램의 계정 관리 - TFTP(인증이 필요하지 않는 응용 프로그램)

네트워크 장비의 계정 관리 - 계정이라는 개념이 존재하지 않음, 그렇지만 계정을 생성하여 각 계정으로 사용할 수 있는 명령어 집합을 제한할 수 있음

`패스워드 관리` - 그냥 길고, 특수문자 대문자 포함된 것들(경우의 수가 많아져 브루트-포스 공격 방지가능) & 패스워드 정책(주기적으로 패스워드 변경, 잘못된 입력시 계정 잠금)

## 2.3 세션 관리

세션의 의미 - 사용자와 컴퓨터 또는 두 컴퓨터 간의 활성화된 접속

세션을 유지하기 위한 보안 사항
1. 세션 하이재킹이나 네트워크 패킷 스니핑에 대응하기 위해 암호화를 하는 것
2. 세션에 대한 지속적인 인증을 하는 것

## 2.4 접근 제어

접근 제어의 의미 
- 적절한 권한을 가진 인가자만 특정 시스템이나 정보에 접근할 수 있도록 통제하는 것
- 시스템의 보안 수준을 갖추기 위한 가장 기본적 수단
- 시스템 및 네트워크에 대한 접근 제어의 가장 기본적인 수단은 IP와 서비스 포트이다.

`운영체제의 접근 제어`

![Alt text](image.png)

`네트워크 장비의 접근 제어` - AC(Access Control List)L을 통한 네트워크 트래픽 접근 제어

## 2.5 권한 관리

운영체제의 권한 관리 - 접근권한은 누적, 파일에대한 접근 권한이 디렉터리에 대한 접근 권한보다 우선, '허용'보다 '거부'가 우선

유닉스 - rxw(421)

데이터베이스의 권한 관리
1. 질의문에 대한 권한 관리 - DDL, DML, DCL

DDL과 DML은 DCL에 의해 허용(Grant) 또는 거부(Deny)된다.

![Alt text](image-1.png)

응용프로그램의 권한 관리 - 응프 내의 권한보다 응프 자체의 실행 권한이 더 중요함, 자신을 실행한 계정의 권한을 물려받음

## 2.6 로그 관리

AAA
1. Authentication(인증) - 자신의 신원(Identity)을 시스템에 증명하는 과정
2. Authorization(인가) - 인증을 완료해 시스템에 로그인이 허락된 사용자라고 판명되어 로그인하는 과정
3. Accounting - 시스템에 로그인한 후 시스템에 이에 대한 기록을 남기는 활동

운영체제의 로그 관리
1. 윈도우는 이벤트라고 불리는 중앙 집중화된 형태로 로그를 수집하여 저장

![Alt text](image-2.png)

2. 유닉스의 로그 - UTMP는 유닉스 시스템의 가장 기본적인 로그, 텍스트가 아닌 바이너리 형태로 로그가 저장됨

WTMP - utmp 데몬과 비슷하게 사용자들의 로그인, 시스템에 재부팅에 대한 정보를 담고 있음, last 명령어로 확인

데이터베이스의 로그 관리
1. MS-SQL - 로그인 감사와 C2 감사 추적(DB의 CRUD에 대한 정보를 로그로 남기는것)을 설정
2. 오라클 - 감사 로그가 활성화된 후 남길 수 있는 감사의 종류는 문장 감사(지정된 문장 실행 기록), 권한 감사(특정한 권한 사용 기록), 객체 감사(특정한 객체에 대한 작업 기록)가 있음

데이터베이스의 모니터링<br>
DB에 대한 로그를 남기는 가장 좋은 방법은 별도의 DB 모니터링 툴을 도입하는 것<br>
네트워크에 트래픽을 모니터링할 수 있는 태핑(Tapping) 장비를 설치하고, 패킷 중 DB 질의문을 확인하여 로그로 남김

응용 프로그램의 로그 관리

네트워크 장비의 로그 관리
- MRTG(네트워크 트래픽 모니터링 시스템), NMS(네트워크 관리 시스템)
- 라우터나 스위치의 인증을 일원화하기 위해 인증 서버로 TACACS+를 사용하기도 함

(라우터나 스위치는 자체적으로 로그를 저장할 공간이 없음)<br>
(각 네트워크 장비에서 생성되는 로그를 네트워크를 통해 로그 서버에 전송)

## 2.7 취약점 관리

1. 패치 관리 - 업데이트 통해 자동 관리
2. 응용 프로그램별 고유 위험 관리
3. 응용 프로그램을 통한 정보 수집 제한

# 3 네트워크 보안

## 3.1 네트워크에 대한 이해

`OSI 7계층` - 국제 표준화 기구 ISO는 다양한 네트워크의 호환을 위해 표준 네트워크 모델을 만듬

`1계층 - 물리 계층` - 인터넷 이용시의 랜 케이블, 전화선, 동축 케이블 또는 광 케이블 등의 시스템 간의 물리적인 연결매체

![Alt text](image-3.png)

`2계층 - 데이터 링크 계층` - 두 포인트 칸 신뢰성 있는 전송을 보장하기 위한 계층

상호 통신을 위해 `MAC` 주소를 할당받는다.

    MAC 주소는 총 12개의 16진수 숫자로 구성
    앞 6개 16진수는 OUI(네트워크 카드를 만든 회사)
    뒤 6개 16진수는 Host Identifier(회사에서 임의로 붙이는 일종의 시리얼)

2계층에서 사용하는 통신 장비는 `스위치`(패킷의 흐름을 제어)

`3계층 - 네트워크 계층`

여러개의 노드를 거칠때마다 경로를 찾아주는 역할을 하는 계층

라우팅, 흐름 제어, 세그멘테이션, 오류 제어 등을 수행

경로를 찾기 위한 주소 - `IP`

    IP 주소는 8비트의 수 4개로 구성
    A,B,C,D,E 클래스가 있음
    A 클래스 - 첫번재 자리가 네트워크 주소, 나머지가 호스트 주소
    B 클래스 - 두번째 자리까지가 네트워크 주소, 나머지가 호스트 주소
    C 클래스 - 세번째 자리까지가 네트워크 주소, 나머지가 호스트 주소
    (D 클래스는 멀티미디어 방송을 할 때 자동으로 부여된다.)
    (E 클래스는 테스팅을 위한 주소 대역 & 사용 안함)

3계층에서 사용되는 네트워크 통신 장비 - `라우터`

    MAC vs IP

    MAC은 주민등록번호같은것 - 변하지 않음

    IP 주소는 내가 위치해 있는 곳 - 변할수있음

`4계층 - 전송 계층`

양끝단의 사용자들이 신뢰성 있는 데이터를 주고받을 수 있도록 함으로써, 상위 계층들이 데이터 전달의 유효성이나 효율성을 신경 쓰지 않도록해줌

대표적인프로토콜 TCP

여기선 `포트 번호`를 사용함 - 응용프로그램과 통하는 통로 번호

1 ~ 1024 포트는 자주 사용하는 서비스에 할당됨

    여기서 알아야할것
    1. 7계층
    2. 유명한 포트번호

![Alt text](image-4.png)

3,4계층 정보는 netstat -an 명령으로 확인가능

```3-way hankshaking``` - 매우 중요, 그릴줄 알아야함(클라에서 SYN, 서버에서 SYN+ACK, 클라에서 ACK)

![Alt text](image-5.png)

```TCP 세션의 종료``` - (클라에서 FIN, 서버에서 ACK, 시간좀 지나고 서버에서 FIN, 클라에서 ACK)

![Alt text](image-6.png)

    TCP vs UDP

    TCP는 연결 지향 프로토콜, 흐름제어와 에러제어 등의 기능을 통해 확실한 전송을 보장함
    하지만 완전하지는 않음

    UDP는 데이터의 신뢰성있는 전송을 보장하지 않음, 전송 경로 확립을 위한 번잡함을 생략하고 시간을 절약할 수 있음

> 이더넷은 2계층의 스위치에서 사용되는 프로토콜

`5계층 - 세션 계층` - 양끝단의 응용 프로세스가 통신을 관리하기 위한 방법을 제공, 정보교환을 효과적으로 할수있는 추가 서비스 제공

`6계층 - 표현 계층` - 코드간의 번역을 담당, 데이터의 구조를 하나로 표현함으로써, 응용 계층의 데이터 형식 차이로 인한 부담을 덜어줌

`7계층 - 응용 프로그램 계층` - HTTP, FTP 등 제공

패킷에는 (...), 4계층 프로토콜의 종류, 클라 IP 주소, 웹 브라우저의 포트번호, 서버 IP 주소, 웹 서버의 포틑번호, 출발지 MAC 주소, 목적지 MAC 주소가 있다.


## 3.2 서비스 거부(Dos) 공격

`DoS(Denier of Service)` - 그냥 훼방을 놓는 공격

Boink, Bonk, TearDrop 공격

    TCP의 신뢰성 있는 연결을 위한 기능

    신뢰성 확보를 위해 재요청과 수정을 하는데, 재요청과 수정이 공격 대상 -> 자원 고갈 시킴

    사실 이런 기법들은 거의다 막혀있음

`취약점 공격형`<br>
Bonk 공격 - (다 자기가 0번이라고 하면서 서버 방해)<br>
TearDrop 공격 - 패킷의 시퀀스 넘버를 이상하게 함<br>
Land 공격 - 출발지 IP 주소와 목적지 IP 주소를 같게 해서 요청(IP 주소는 공격 대상의 IP 주소)

`자원 고갈 공격형`<br>
Ping of Death 공격 - 패킷을 최대한 길게함 -> 엄청 잘게 쪼개짐 -> 많아짐<br>
SYN Flooding 공격 - 계속 서버에 요청해서, 다른 사용자 요청 못하게 함(이 공격은 SYN Received의 대기시간을 줄이는 방법으로 해결 가능)<br>
HTTP GET Flooding 공격 - GET Method를 통해 무한대로 실행하는 것(url 계속 입력해서 보냄)<br>
HTTP CC 공격 - HTTP 1.1 버전에서 썼음<br>
동적 HTTP Request Flooding 공격 - 지속적으로 요청 페이지를 변경하여 웹 페이지를 요청<br>
Smurf 공격 - ICMP 패킷과 임의의 시스템을 이용하여 패킷을 확장하여 서비스 거부 공격을 수행<br>
Mail Bomob 공격 - 폭탄 메일(스팸 메일)

---

`DDoS` - 분산 서비스 거부 공격

    DDoS는 해킹 기법

    DoS는 해킹 기법을 아우르는 개념

DDoS공격의 5가지 조건<br>
공격자, 마스터, 핸들러, 에이전트, 데몬

    공격자: 공격을 주도하는 해커의 컴퓨터
    마스터: 공격자에게 직접 명령을 받는 시스템으로 여러 대의 에이전트를 관리함
    핸들러 프로그램: 마스터 시스템의 역할을 수행하는 프로그램
    에이전트: 공격 대상에 직접 공격을 가하는 시스템
    데몬 프로그램: 에이전트 시스템의 역할을 수행하는 프로그램

봇넷: 좀비가 된 PC들의 네트워크<br>
봇넷에 있는 각각의 PC를 좀비PC

## 3.3 스니핑 공격

수동적인 공격

도청, UTP 장비를 태핑(Tapping)해서 전기적 신호를 분석해 정보를 찾아내는 것

전기적 신호를 템페스트 장비를 이용해 분석하는 것

    스니핑 원리
    
    (네트워크에 접속하는 모든 시스템은 설정된 IP 주소값과 고유한 MAC 주소값을 가지고 있음)
    (2계층과 3계층에서 자신의 것과 일치하지 않는 패킷은 무시함)

    스니핑을 수행하는 공격자는 자신이 가지지 말아야할 정보까지 모두 볼 수 있어야 하므로 2계층과 3계층 정보를 이용한 필터링을 해제하는 랜카드의 모드를 사용 - 프러미큐어스(Promicuous) 모드

`스위치 재밍 공격` - 스위치의 주소 테이블의 기능을 마비시키는 공격 (MACOF 공격)<br>
스위치에 랜덤한 형태로 생성한 MAC을 가진 패킷을 무한대로 보내서, 저장 용량을 넘게되어 원래기능을 잃고 더미허브처럼 작동하게됨

`SPAN 포트 태핑 공격` - 포트 미러링을 이용한 것<br>
각 포트에 전송되는 데이터를 미러링하고, 포트에도 똑같이 보내주는 것<br>
SPAN포트는 기본적으로 하나의 설정사항으로 이뤄짐,<br>
but 포트 태핑은 하드웨어적인 장비로 제공되고 이를 Splitter라고 부르기도 함

스니퍼의 탐지 - 출석부를때 이름이 다른 학생이 출석하는 느낌?(다른 학생은 프러미큐어스 모드)

    여기서 출석이 탐지하는것
    이름이 다른 학생은 프러미큐어스 모드로 스니핑 공격중임

스니퍼 탐지 방법
1. Ping 이용 - 대부분의 스니퍼는 일반 TCP/IP에서 동작 - 존재하지않는 MAC주소를 보냈는데 응답이 왔다 -> 해당 호스트 스니핑중
2. ARP 이용 - ping과 유사, 위조된 ARP request보내서 응답오면 걸린것
3. DNS 이용 - 가짜 ID와 패스워드를 썼는데, 공격자가 그걸 이용하면 걸린것
4. ARP watch를 이용 - ARP 트래픽을 모니터링, 이를 변하게 하는 패킷이 탐지되면 메일로 알려줌

> ARP(Address Resolution Protocol) - 주소 결정 프로토콜

## 3.4 스푸핑 공격

속이는 공격

MAC, IP 주소, 포트 모든것을 공격할 수 있다(속일 수 있다)

`ARP 스푸핑 공격` - 클라와 서버 사이에 공격자 컴퓨터가 들어옴(상대방 MAC 주소가 자기자신이라고 속임)

클라와 서버는 이를 모르고 패킷을 주고받지만, 공격자 컴퓨터는 둘 사이의 패킷정보를 다 읽음

-> MAC 주소값을 고정시켜서 패킷을 주고받으면 이 공격 막을 수 있다.<br>
(IP 주소를 속이더라도 MAC주소는 속일 수 없기 떄문)

    클라는 서버에 해당하는 MAC 주소를 고정시키면, (arp -s)
    다른 컴퓨터가 중간에 가로챌 수 없다.

`IP 스푸핑 공격` - IP 주소를 속이는 것

    트러스트 인증법: 특정 IP의 패킷은 검사안하고 그냥 통과시킴, 유닉스 계열에서 사용
    (윈도우는 액티브 디렉토리 사용함)

    공격자가 해당 IP주소를 가지고 서버에 접근하는것
    (클라는 DoS 공격을 통해 접근 못하게 함)

`ICMP 리다이렉트 공격` - 공격자가 라우터가 되어 다른 라우터로 리다이렉트 시킴(이때 모든 패킷을 스니핑)

    ICMP 리다이렉트 - 로드 밸런싱에서 사용함

`DNS 스푸핑 공격` - 실제 DNS 서버 보다 빨리 공격 대상에게 DNS Response 패킷을 보내, 공격 대상이 잘못된 IP 주소로 웹 접속을하도록 유도하는 공격(공격자 컴퓨터가 DNS 서버 컴퓨터보다 클라와 가까이 있어야 가능한 공격)

## 3.5 세션 하이재킹 공격

세션(Session): 사용자와 컴퓨터, 또는 두 대의 컴퓨터 간의 활성화된 상태

세션 하이재킹: 두 시스템 간 연결이 활성화된 상태, 즉 로그인된 상태를 가로채는 것을 뜻함

TCP 세션 하이재킹 - 서버와 클라이언트에 각각 잘못된 시퀀스 넘버를 위조해서 연결된 세션에 잠시 혼란을 준뒤 자신이 끼어드는 방식(클라와 서버사이에 공격자 컴퓨터가 있어야함(ARP 스푸핑 등))

    다시 3-way handshaking을 통해, 공격자는 클라 대신 연결되어 있던 TCP 연결을 그대로 물려받음

    이에 대한 대응은 SSH을 쓰거나, 클라와 서버 사이 MAC 주소를 고정시킨다.

## 3.6 무선 네트워크 공격과 보안

무선 랜 - 기본적으로 이더넷과 비슷한 개념, 무선 랜을 사용하기 위해서는 내부의 유선 네트워크에 AP(Access Point) 장비를 설치해야 함

![Alt text](image-7.png)

AP 보안 - 물리적인 보안 및 관리자 패스워드 변경, SSID 브로드캐스팅 금지

무선 랜 통신 암호화 - WEP의 암호화, WPA, WPA-PSK의 암호화, EAP와 802.1x의 암호화



# 4 웹 보안



# 6 악성 코드