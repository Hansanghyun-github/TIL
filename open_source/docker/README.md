# 도커(Docker)

도커(Docker)는 애플리케이션과 해당 애플리케이션의 모든 종속성을  
`컨테이너`라는 독립된 환경에 패키징하여 배포하고 실행할 수 있도록 지원하는 플랫폼

> 컨테이너는 가상 머신과 비슷하지만 훨씬 가볍고 빠르다.  

> 도커는 개발, 테스트, 배포 프로세스를 간소화하여 일관성 있는 환경을 제공한다.

---

## 도커 주요 개념

### 이미지(Image)

애플리케이션과 필요한 모든 설정, 라이브러리, 의존성을 포함한 불변의 실행 파일

도커 이미지는 도커 파일(Dockerfile)을 기반으로 빌드된다.

### 도커 파일(Dockerfile)

도커 이미지를 만들기 위한 설정 파일

> 애플리케이션 복사, 라이브러리 설치, 명령어 실행 등의 지침을 포함한다.

### 컨테이너(Container)

이미지를 기반으로 실행되는 독립된 프로세스

컨테이너는 호스트 OS의 커널을 공유하며, 애플리케이션이 격리된 환경에서 실행되도록 보장한다.

### 도커 허브(Docker Hub)

도커 이미지의 중앙 저장소로, 필요한 이미지를 다운로드하거나 공유할 수 있는 플랫폼

---

## 도커의 주요 장점

### 일관된 환경 제공

개발 환경과 운영 환경의 차이를 줄여 "작동하던 개발 환경에서만 동작한다"는 문제를 방지한다.

### 경량화 및 빠른 실행

컨테이너는 운영 체제 전체를 가상화하지 않고 애플리케이션과 필요한 파일만 포함하므로 가볍고 빠르다.

### 확장성

컨테이너를 쉽게 복제하거나 여러 대의 컨테이너로 확장할 수 있어, 확장성과 부하 분산이 용이하다.

### 이식성

컨테이너는 동일한 이미지를 기반으로 어디서든 실행 가능하여, 이식성이 뛰어나다.

---

## Dockerfile 작성 예시

```Dockerfile
# 베이스 이미지
FROM python:3.8-slim

# 작업 디렉토리 설정
WORKDIR /app

# 의존성 설치
COPY requirements.txt requirements.txt

RUN pip install -r requirements.txt

# 소스 코드 추가
COPY . .

# 컨테이너 실행 시 실행될 명령어
CMD ["python", "app.py"]
```

### FROM

도커 이미지의 베이스 이미지를 지정한다.

### WORKDIR

작업 디렉토리를 설정한다.

### COPY

파일이나 디렉토리를 이미지로 복사한다.  

> 실제로 존재하는 파일 및 디렉토리를 복사하여 이미지를 생성한다.

### RUN

도커 이미지를 빌드할 때 실행할 명령어를 지정한다.

### CMD

컨테이너가 시작되었을 때 실행할 명령어를 지정한다.

---