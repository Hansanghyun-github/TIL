> http의 대표적인 특징 - stateless
> (클라이언트의 정보를 저장하지 않는다)
> 
> 클라는 요청할 때마다 인증(로그인)해야 한다.
> 페이지를 이동할때마다 로그인해야 한다.
> 로그인 정보를 어딘가에 저장해놓자

## 쿠키

클라이언트 측에서 저장하는 작은 데이터 조각  
클라이언트가 서버에게 전송하는 key-value 형태의 작은 데이터 파일

클라이언트가 서버에 요청할 때마다 쿠키가 요청에 담겨진다.  
(쿠키에 담긴 데이터를 통해 서버는 클라이언트의 상태를 알 수 있다)

### 쿠키의 단점

쿠키는 클라이언트가 임의로 고치거나 지울 수 있고,  
다른 컴퓨터가 훔칠 수 있다.

---

## 세션

클라이언트의 정보를 서버에 저장하는 메커니즘

서버에서 사용자를 구분하기 위한 기한이 짧은 임시 키를 브라우저에 보낸다.

브라우저는 요청할 때마다 임시 키를 보내야 한다.

1. 서버는 클라이언트와의 통신을 위한 고유한 식별자인 세션 ID를 만들어 두고, 이 세션 ID를 사용하여 클라이언트를 식별한다.
2. 클라이언트가 서버로 요청을 보낼 때마다 세션 ID를 포함시켜 서버가 해당 세션에 대한 정보를 유지하고 상태를 관리할 수 있다.

### 세션의 단점

클라이언트가 요청할 때마다 세션 DB에서 일일이 확인해야 한다.  
모든 클라이언트의 정보를 저장해야 한다.

---

> 쿠키는 보안에 취약해, 대신 웹 스토리지를 이용할 수 있다.  
> -> 웹 스토리지 이용(html5에 등장)
>
> 웹 스토리지는  
> 로컬 스토리지와 세션 스토리지로 나뉜다
>
> 로컬 스토리지 - 브라우저 자체에 반영구적으로 저장(브라우저를 닫아도 데이터 유지 됨)
> 세션 스토리지 - 탭 윈도우 단위로 생성됨(탭 닫으면 데이터 삭제 됨)
>
> 저장 예시  
> 인증 관련 쿠키는 로컬, 그외 정보(장바구니, 폼 정보)는 세션 스토리지, 다시보지 않기 팝업 창은 쿠키
>
> 웹 스토리지에 있는 데이터는 쿠키처럼 request에 자동으로 담기지 않는다.
> js 코드를 통해 직접 보내줘야 한다.

---

## 토큰

(대표적으로 JWT - Json Web Token)

클라이언트가 로그인하면, 토큰이라는 데이터를 응답으로 보내준다.  
이 토큰을 이용해 서버는 클라이언트의 정보를 얻을 수 있다.  
(서버에 데이터를 저장할 필요가 없다)

토큰 방식은 세션 방식과 달리 서버에 상태를 저장하지 않고도 사용자를 식별하고 인증할 수 있다.  

### 토큰의 한계점

토큰 자체에 사용자의 정보가 담겨 있기 때문에,  
토큰을 안전하게 저장하고 전송해야 하며, 토큰이 탈취되거나 조작되는 것을 방지하기 위해 적절한 보안 대책을 마련해야 한다.

