## XSS(Cross-Site Scripting)

목적: 사용자 측에서 악성 스크립트를 실행시키는 것

공격자가 웹사이트에 악성 스크립트를 삽입하고,  
해당 웹사이트를 방문한 사용자가 스크립트를 실행하게 한다.  

공격자가 주입한 악성 스크립트를 통해, 다른 사용자의 정보를 탈취할 수 있다.

### 이를 막는 방법

1. 사용자의 입력 값을 검증한다.
2. CSP(Content Security Policy) - 웹 페이제에서 실행되는 스크립트의 출처를 제한하고, 허용된 리소스만 로드할 수 있도록 제한

---

## CSRF(Cross-Site Request Forgery)

목적: 사용자의 권한을 이용하여 악의적인 요청을 서버에 전송하는 것

CSRF(Cross-Site Request Forgery) 공격은 인증된 사용자의 권한을 이용하여 악의적인 요청을 서버에 전송하는 공격이다.

> 사용자가 로그인한 사이트가 아닌,  
> 다른 사이트에서 악의적인 사용자가 만든 페이지를 통해  
> 사용자의 권한을 이용하여 서버에 요청을 보낼 수 있다.
> 
> (이때, 사용자는 이 요청이 자신의 권한으로 보내는 것이라는 것을 모르고 있다)

> 여기서 서버의 인증 방식이 쿠키 방식이라면 CSRF 공격이 가능하지만,  
> 토큰 방식이라면 CSRF 공격을 막을 수 있다.  
> (인증 값을 스토리지에 저장하고, 요청 시마다 토큰을 함께 보내는 방식)

### 이를 막는 방법

CSRF 토큰을 이용해 사용자의 요청을 검사할 수 있다.  
(요청 할 때마다 토큰의 값을 통해 사용자의 요청이 유효한지 검사)

> 외부 스크립트로 공격하는 경우는,  
> 쿠키의 SameSite 속성을 설정하여 방지할 수 있다.

---

## XSS vs CSRF

둘다 사용자의 브라우저를 대상으로 한다는 공통점이 있다.

CSRF는 사용자의 인증된 세션을 악용하는 공격 방식이지만,  
XSS는  사용자의 인증 없이도 공격을 진행할 수 있다